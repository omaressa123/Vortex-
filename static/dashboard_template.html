<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Dashboard</title>
    <link rel="stylesheet" href="dashboard_template.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-wrapper">
        <!-- Header -->
        <div class="dashboard-header">
            <h1>Business Dashboard</h1>
            <div class="header-controls">
                <button class="btn btn-secondary">Time Frame</button>
                <button class="btn btn-secondary">Store</button>
                <button class="btn btn-primary">Profit View</button>
            </div>
        </div>

        <div class="dashboard-content">
            <!-- Left Section -->
            <div class="dashboard-left">
                <!-- KPI Cards -->
                <div class="kpi-cards">
                    <div class="kpi-card">
                        <div class="kpi-title">COGS</div>
                        <div class="kpi-value">$0</div>
                        <div class="kpi-change">+0%</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-title">Revenue</div>
                        <div class="kpi-value">$0</div>
                        <div class="kpi-change">+0%</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-title">Profit</div>
                        <div class="kpi-value">$0</div>
                        <div class="kpi-change">+0%</div>
                    </div>
                    <div class="kpi-card">
                        <div class="kpi-title">Profit Margin</div>
                        <div class="kpi-value">0%</div>
                        <div class="kpi-change">+0%</div>
                    </div>
                </div>

                <!-- Cash Flow Prediction Section -->
                <div class="cash-flow-section">
                    <h3 class="section-title">ðŸ’° Cash Flow Prediction</h3>
                    
                    <div class="prediction-input">
                        <div class="input-row">
                            <input type="text" id="monthInput" placeholder="Month (e.g., 2024-01)" style="padding:8px; margin-right:10px; border:1px solid #ddd; border-radius:4px;">
                            <input type="number" id="incomeInput" placeholder="Income ($)" style="padding:8px; margin-right:10px; border:1px solid #ddd; border-radius:4px;">
                            <input type="number" id="expensesInput" placeholder="Expenses ($)" style="padding:8px; margin-right:10px; border:1px solid #ddd; border-radius:4px;">
                            <button onclick="addFinancialData()" style="padding:8px 16px; background:#28a745; color:white; border:none; border-radius:4px; cursor:pointer;">Add Data</button>
                        </div>
                    </div>

                    <div class="prediction-result" id="predictionResult" style="display:none;">
                        <h4>ðŸ“ˆ Next Month Prediction</h4>
                        <div class="prediction-cards">
                            <div class="pred-card">
                                <div class="pred-title">Predicted Income</div>
                                <div class="pred-value" id="predIncome">$0</div>
                                <div class="pred-change" id="predIncomeChange">+0%</div>
                            </div>
                            <div class="pred-card">
                                <div class="pred-title">Predicted Expenses</div>
                                <div class="pred-value" id="predExpenses">$0</div>
                                <div class="pred-change" id="predExpensesChange">+0%</div>
                            </div>
                            <div class="pred-card">
                                <div class="pred-title">Predicted Profit</div>
                                <div class="pred-value" id="predProfit">$0</div>
                                <div class="pred-change" id="predProfitChange">+0%</div>
                            </div>
                        </div>
                        
                        <div class="ai-insight" id="aiInsight">
                            <h5>ðŸ¤– AI Financial Insight</h5>
                            <p id="insightText">Loading insight...</p>
                        </div>
                    </div>

                    <div class="historical-data" id="historicalData">
                        <h4>ðŸ“Š Historical Data</h4>
                        <div id="dataList"></div>
                    </div>
                </div>

                <!-- Charts Grid -->
                <div class="charts-grid-left">
                    <!-- Profit by Gender -->
                    <div class="chart-card">
                        <h3 class="chart-title">Profit by Gender</h3>
                        <div class="gender-heatmap">
                            <div class="heatmap-legend">
                                <span>Male</span>
                                <span>51.47%</span>
                            </div>
                            <div class="heatmap-legend">
                                <span>Female</span>
                                <span>48.53%</span>
                            </div>
                            <canvas id="genderChart"></canvas>
                        </div>
                    </div>

                    <!-- Profit by Customer Age -->
                    <div class="chart-card">
                        <h3 class="chart-title">Profit by Customer Age</h3>
                        <div class="age-info">
                            <span>Average</span>
                            <span>Customer Age</span>
                        </div>
                        <canvas id="ageChart"></canvas>
                    </div>

                    <!-- Top-5 Profitable Customer -->
                    <div class="chart-card">
                        <h3 class="chart-title">Top-5 Profitable Customer</h3>
                        <div class="top-customers">
                            <div class="customer-selector">
                                <label>Top</label>
                                <input type="radio" name="customer" checked>
                                <label>Bottom</label>
                                <input type="radio" name="customer">
                                <select>
                                    <option>Customer</option>
                                </select>
                            </div>
                            <div class="customer-highlight">Overtime</div>
                        </div>
                        <canvas id="topCustomerChart"></canvas>
                    </div>

                    <!-- Profit Trend by Month -->
                    <div class="chart-card wide">
                        <h3 class="chart-title">Profit Trend by Month Rate</h3>
                        <canvas id="trendChart"></canvas>
                    </div>

                    <!-- Profit by WeekDay -->
                    <div class="chart-card wide">
                        <h3 class="chart-title">Profit by WeekDay</h3>
                        <canvas id="weekdayChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Right Section -->
            <div class="dashboard-right">
                <div class="right-panel">
                    <!-- Right Panel Stats -->
                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-icon">ðŸ“¦</div>
                            <div class="stat-content">
                                <div class="stat-label">Product Sold</div>
                                <div class="stat-value">100</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">Product Return Rate</div>
                            <div class="stat-value">8.03%</div>
                        </div>
                    </div>

                    <div class="stat-box">
                        <div class="stat-item">
                            <div class="stat-label">Product Refund Rate</div>
                            <div class="stat-value">8.05%</div>
                        </div>
                    </div>

                    <!-- Profit by Category -->
                    <div class="category-section">
                        <h3>Profit by Category</h3>
                        <div class="category-list">
                            <div class="category-item">
                                <span class="category-name">Soft Drink</span>
                                <span class="category-value">$216,216</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Sports Drink</span>
                                <span class="category-value">$317,424</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Tea</span>
                                <span class="category-value">$67,414</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Water</span>
                                <span class="category-value">$325,210</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Energy Drink</span>
                                <span class="category-value">$74,073</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Coffee</span>
                                <span class="category-value">$142,232</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Alcoholic Beverage</span>
                                <span class="category-value">$86,449</span>
                            </div>
                            <div class="category-item">
                                <span class="category-name">Juice</span>
                                <span class="category-value">$42,455</span>
                            </div>
                        </div>
                    </div>

                    <!-- Illustration -->
                    <div class="illustration">
                        <div class="illustration-icon">ðŸ’¼ðŸ“ˆ</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="dashboard_template.js"></script>
</body>
</html>
